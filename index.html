<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Mahatej Games</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#7c5cff"/>

  <style>
    :root{
      --bg0:#0b0d12; --bg1:#121525;
      --text:#f2f5ff; --muted:#b9c0d4;
      --border:rgba(255,255,255,0.10);
      --card: rgba(20,24,40,0.62);
      --accent:#7c5cff; --accent2:#2dd4bf;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      background:
        radial-gradient(1200px 700px at 20% 10%, #1a2152 0%, transparent 55%),
        radial-gradient(1000px 650px at 80% 15%, #0f3a3f 0%, transparent 55%),
        linear-gradient(180deg,var(--bg0),var(--bg1));
    }
    .wrap{max-width:1100px;margin:0 auto;padding:18px 16px 34px;}
    .topbar{
      display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;
      padding:12px 14px;border:1px solid var(--border);border-radius:16px;
      background:rgba(10,12,20,0.45);backdrop-filter:blur(10px);
    }
    .brand{display:flex;align-items:center;gap:12px}
    .logo{
      width:42px;height:42px;border-radius:14px;
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      display:grid;place-items:center;font-size:22px;
    }
    .brand h1{margin:0;font-size:18px}
    .brand p{margin:2px 0 0;color:var(--muted);font-size:12px}
    .btn{
      display:inline-flex;align-items:center;gap:8px;
      padding:10px 12px;border-radius:12px;text-decoration:none;
      border:1px solid var(--border);
      color:var(--text);background:rgba(20,24,40,0.55);
      font-weight:700;cursor:pointer;
    }
    .btn.primary{
      border-color:rgba(255,255,255,0.18);
      background:linear-gradient(135deg,var(--accent),var(--accent2));
      color:#061014;
    }
    .grid{margin-top:14px;display:grid;grid-template-columns:repeat(12,1fr);gap:12px;}
    .card{
      grid-column:span 4;
      border:1px solid var(--border);border-radius:18px;
      background:var(--card);
      padding:14px;
    }
    @media(max-width:960px){.card{grid-column:span 6}}
    @media(max-width:620px){.card{grid-column:span 12}}
    .row{display:flex;align-items:center;justify-content:space-between;gap:10px}
    .title{display:flex;align-items:center;gap:10px}
    .icon{width:44px;height:44px;border-radius:14px;border:1px solid var(--border);
      display:grid;place-items:center;font-size:22px;background:rgba(255,255,255,0.06)}
    .card h2{margin:0;font-size:16px}
    .card p{margin:6px 0 12px;color:var(--muted);font-size:13px;line-height:1.35}
    .tag{font-size:11px;padding:4px 8px;border-radius:999px;border:1px solid var(--border);color:var(--muted)}
    footer{margin-top:18px;color:var(--muted);font-size:12px;text-align:center}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="logo">üéÆ</div>
        <div>
          <h1>Mahatej Games</h1>
          <p>Kid-safe mini arcade ‚Ä¢ No ads ‚Ä¢ Simple controls</p>
        </div>
      </div>

      <div style="display:flex;gap:10px;flex-wrap:wrap">
        <a class="btn primary" href="/snake/">Play Snake</a>
        <button class="btn" id="installBtn" style="display:none">‚¨áÔ∏è Install App</button>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <div class="row">
          <div class="title">
            <div class="icon">üêç</div>
            <h2>Snake</h2>
          </div>
          <span class="tag">NEW</span>
        </div>
        <p>Classic snake with pause menu, speed, and fun visuals.</p>
        <a class="btn primary" href="/snake/">Play</a>
      </div>

      <div class="card">
        <div class="row">
          <div class="title">
            <div class="icon">üß†</div>
            <h2>Memory Match</h2>
          </div>
          <span class="tag">Kids</span>
        </div>
        <p>Flip cards and match pairs. Choose grid size.</p>
        <a class="btn primary" href="/memory/">Play</a>
      </div>

      <div class="card">
        <div class="row">
          <div class="title">
            <div class="icon">‚ûï</div>
            <h2>Math Quiz</h2>
          </div>
          <span class="tag">Learn</span>
        </div>
        <p>Fast addition/subtraction practice with levels.</p>
        <a class="btn primary" href="/math/">Play</a>
      </div>

      <div class="card">
        <div class="row">
          <div class="title">
            <div class="icon">üéà</div>
            <h2>Balloon Pop</h2>
          </div>
          <span class="tag">Touch</span>
        </div>
        <p>Pop balloons before they float away. Great on mobile.</p>
        <a class="btn primary" href="/balloon/">Play</a>
      </div>
    </div>

    <footer>Tip: On mobile, tap ‚ÄúInstall App‚Äù to add Mahatej Games to home screen.</footer>
  </div>

  <script>
    // Service worker
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("/service-worker.js");
    }

    // PWA install button
    let deferredPrompt = null;
    const installBtn = document.getElementById("installBtn");

    window.addEventListener("beforeinstallprompt", (e) => {
      e.preventDefault();
      deferredPrompt = e;
      installBtn.style.display = "inline-flex";
    });

    installBtn.addEventListener("click", async () => {
      if (!deferredPrompt) return;
      deferredPrompt.prompt();
      await deferredPrompt.userChoice;
      deferredPrompt = null;
      installBtn.style.display = "none";
    });
  </script>
</body>
</html>
